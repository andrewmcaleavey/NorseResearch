% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotFuncs.R
\name{ggplot_icc_plot}
\alias{ggplot_icc_plot}
\title{Generate Item Characteristic Curves (ICCs) from a mirt Object}
\usage{
ggplot_icc_plot(fit, Theta = seq(-4, 4, length.out = 200), facet_items = TRUE)
}
\arguments{
\item{fit}{An object of class \code{SingleGroupClass} from \pkg{mirt} representing a
unidimensional IRT model.}

\item{Theta}{A numeric vector of theta values at which to compute the item probabilities.
Default is \code{seq(-6, 6, length.out = 200)}.}

\item{facet_items}{Logical. If \code{TRUE} (the default), the resulting plot will be faceted by item.}
}
\value{
A \pkg{ggplot2} object displaying the item characteristic curves (ICCs). Each item
is optionally faceted, and within each item, separate curves represent the probability curves
for each response category.
}
\description{
This function computes and plots item characteristic curves (ICCs) for each item in a
unidimensional IRT model fitted using the \pkg{mirt} package. It extracts the probability
traces for each item using \code{extract.item()} and \code{probtrace()}, reshapes the resulting
matrix into long format, and then builds a \pkg{ggplot2} object. Separate lines are plotted for
each response category.
}
\details{
For each item in the model, the function performs the following steps:
\enumerate{
\item Determines the number of items using \code{extract.mirt(fit, 'nitems')}.
\item Creates a unidimensional theta grid from the supplied \code{Theta} vector.
\item For each item, extracts the item object with \code{extract.item()} and computes its
probability trace using \code{probtrace()}. This returns a matrix with rows corresponding
to theta values and columns corresponding to response categories.
\item If the probability matrix does not have column names, they are assigned as "Category 1",
"Category 2", etc.
\item The wide-format probability matrix is reshaped into long format using \code{tidyr::pivot_longer()},
with separate rows for each theta value and response category.
\item A \pkg{ggplot2} line plot is constructed, showing the probability (y-axis) as a function
of theta (x-axis), with different colors for each response category.
\item If \code{facet_items} is \code{TRUE}, the plot is faceted by item.
}
}
\examples{
\dontrun{
  library(mirt)
  library(ggplot2)
  library(tidyr)

  # Fit a unidimensional IRT model using mirt.
  data <- expand.grid(matrix(sample(1:5, 100 * 5, replace = TRUE), ncol = 5))
  names(data) <- paste0("Item", 1:5)
  fit_m <- mirt(data, 1, itemtype = "graded")

  # Generate the ICC plot.
  icc_plot <- ggplot_icc_plot(fit_m)
  print(icc_plot)
}
}
\seealso{
\code{\link[mirt]{extract.item}}, \code{\link[mirt]{probtrace}},
\code{\link[tidyr]{pivot_longer}}, \code{\link[ggplot2]{ggplot}}, \code{\link[ggplot2]{geom_line}}
}
